<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.big_bike_auto.controller.InventoryPageController">

    <top>
        <VBox spacing="8">
            <children>
                <!-- à¹à¸–à¸§à¸„à¹‰à¸™à¸«à¸²/à¸à¸£à¸­à¸‡ -->
                <HBox>
                    <Label text="à¸ªà¸•à¹‡à¸­à¸/à¸­à¸°à¹„à¸«à¸¥à¹ˆ" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                </HBox>
                <HBox spacing="8" BorderPane.alignment="CENTER">
                    <children>
                        <TextField fx:id="txtSearch" promptText="à¸„à¹‰à¸™à¸«à¸² à¸£à¸«à¸±à¸ª/à¸Šà¸·à¹ˆà¸­à¸ªà¸´à¸™à¸„à¹‰à¸²"/>
                        <ComboBox fx:id="cbSupplier" promptText="à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ"/>
                        <ComboBox fx:id="cbCategory" promptText="à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ"/>
                        <CheckBox fx:id="chkOnlyShortage" text="à¹à¸ªà¸”à¸‡à¹€à¸‰à¸žà¸²à¸°à¸—à¸µà¹ˆà¸‚à¸²à¸”"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <!-- ðŸ”¹ à¸›à¸¸à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ: à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸´à¸™à¸„à¹‰à¸² -->
                        <Button text="à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸´à¸™à¸„à¹‰à¸²" onAction="#onCreatePart"/>
                        <Button text="à¸„à¸³à¸™à¸§à¸“à¹ƒà¸«à¸¡à¹ˆ" onAction="#onRecalculate"/>
                        <Button text="à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸›à¸¢à¸±à¸‡ Draft PO" onAction="#onAddToDraft"/>
                        <Button text="à¸›à¸£à¸±à¸šà¸ªà¸•à¹‡à¸­à¸" onAction="#onAdjustStock"/>
                        <Button text="à¸ªà¹ˆà¸‡à¸­à¸­à¸ CSV" onAction="#onExportCsv"/>
                    </children>
                    <padding><Insets top="10" right="10" bottom="0" left="10"/></padding>
                </HBox>

                <!-- à¸ªà¸£à¸¸à¸› KPI -->
                <HBox spacing="16" BorderPane.alignment="CENTER_LEFT">
                    <children>
                        <Label fx:id="lblTotalParts" text="à¸ˆà¸³à¸™à¸§à¸™à¸£à¸²à¸¢à¸à¸²à¸£: 0"/>
                        <Label fx:id="lblShortage" text="à¸ˆà¸³à¸™à¸§à¸™à¸—à¸µà¹ˆà¸‚à¸²à¸”: 0"/>
                        <Label fx:id="lblOnOrder" text="à¸à¸³à¸¥à¸±à¸‡à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­: 0"/>
                        <Label fx:id="lblInStockSum" text="à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­à¸£à¸§à¸¡: 0"/>
                    </children>
                    <padding><Insets top="0" right="10" bottom="10" left="10"/></padding>
                </HBox>
            </children>
        </VBox>
    </top>

    <center>
        <TableView fx:id="tvInventory" prefHeight="600">
            <columns>
                <TableColumn fx:id="colCode" text="à¸£à¸«à¸±à¸ª" prefWidth="120"/>
                <TableColumn fx:id="colName" text="à¸Šà¸·à¹ˆà¸­à¸ªà¸´à¸™à¸„à¹‰à¸²" prefWidth="240"/>
                <TableColumn fx:id="colSupplier" text="à¸‹à¸±à¸žà¸žà¸¥à¸²à¸¢à¹€à¸­à¸­à¸£à¹Œ" prefWidth="140"/>
                <TableColumn fx:id="colCategory" text="à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ" prefWidth="140"/>
                <TableColumn fx:id="colInStock" text="à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­" prefWidth="90"/>
                <TableColumn fx:id="colMinStock" text="à¸‚à¸±à¹‰à¸™à¸•à¹ˆà¸³" prefWidth="70"/>
                <TableColumn fx:id="colReserved" text="à¸ˆà¸­à¸‡à¹„à¸§à¹‰" prefWidth="90"/>
                <TableColumn fx:id="colOnOrder" text="à¸à¸³à¸¥à¸±à¸‡à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­" prefWidth="90"/>
                <TableColumn fx:id="colNeeded" text="à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ªà¸±à¹ˆà¸‡" prefWidth="90"/>
            </columns>
        </TableView>
    </center>

    <bottom>
        <HBox spacing="8" alignment="CENTER_RIGHT">
            <children>
                <ProgressIndicator fx:id="progress" visible="false"/>
                <Label fx:id="lblStatus" text=""/>
            </children>
            <padding><Insets top="8" right="10" bottom="10" left="10"/></padding>
        </HBox>
    </bottom>
</BorderPane>
